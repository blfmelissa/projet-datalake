================================================================================
                    ARCHITECTURE DU DATA LAKEHOUSE
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PIPELINE GLOBAL                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   PHASE 1   â”‚ â”€â”€â”€â–¶ â”‚   PHASE 2   â”‚ â”€â”€â”€â–¶ â”‚   PHASE 3   â”‚
   â”‚  INGESTION  â”‚      â”‚ EXTRACTION  â”‚      â”‚     ETL     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
   LANDING ZONE          CURATED ZONE          PRODUCTION (prÃªt pour BI)


================================================================================
                         ZONES DU DATA LAKEHOUSE
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         0_SOURCE_WEB (DonnÃ©es brutes)                       â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“ 603 fichiers HTML sources                                               â”‚
â”‚     â”œâ”€ INFO-EMP-LINKEDIN-*.html       (254 fichiers)                       â”‚
â”‚     â”œâ”€ INFO-SOC-GLASSDOOR-*.html      (140 fichiers)                       â”‚
â”‚     â””â”€ AVIS-SOC-GLASSDOOR-*.html      (209 fichiers)                       â”‚
â”‚                                                                             â”‚
â”‚  Statut : READ ONLY - Jamais modifiÃ©                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ PHASE 1 : Ingestion
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      1_LANDING_ZONE (Zone d'ingestion)                      â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“‚ LINKEDIN/                                                               â”‚
â”‚     â””â”€ EMP/                     â†’ 254 fichiers HTML (emplois)              â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“‚ GLASSDOOR/                                                              â”‚
â”‚     â”œâ”€ SOC/                     â†’ 140 fichiers HTML (entreprises)          â”‚
â”‚     â””â”€ AVI/                     â†’ 209 fichiers HTML (avis)                 â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“„ MÃ©tadonnÃ©es techniques :                                                â”‚
â”‚     â””â”€ 99_METADATA/metadata_technique.csv                                  â”‚
â”‚        Format : cle_unique | colonne | valeur                              â”‚
â”‚        Contenu : date_recuperation, nom_fichier, chemins, categorie        â”‚
â”‚                                                                             â”‚
â”‚  Statut : Copie Ã  l'identique + traÃ§abilitÃ©                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ PHASE 2 : Extraction + Parsing HTML
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   2_CURATED_ZONE (DonnÃ©es nettoyÃ©es)                        â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“‚ METADONNEES/                                                            â”‚
â”‚     â””â”€ metadata_descriptive.csv                                            â”‚
â”‚        Format : cle_unique | colonne | valeur                              â”‚
â”‚                                                                             â”‚
â”‚  DonnÃ©es extraites (format vertical) :                                     â”‚
â”‚    â€¢ LINKEDIN/EMP :                                                         â”‚
â”‚       - nomSociete, villeEmploi, libelleEmploi, Descriptif                 â”‚
â”‚                                                                             â”‚
â”‚    â€¢ GLASSDOOR/SOC :                                                        â”‚
â”‚       - nomEntreprise, villeEntreprise, tailleEntreprise, description      â”‚
â”‚                                                                             â”‚
â”‚    â€¢ GLASSDOOR/AVI :                                                        â”‚
â”‚       - nomEntreprise, noteMoyEntreprise                                   â”‚
â”‚       - avisN_lib, avisN_commentaire, avisN_avantages, avisN_inconvenients â”‚
â”‚                                                                             â”‚
â”‚  Statut : DonnÃ©es brutes â†’ DonnÃ©es structurÃ©es (texte)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ PHASE 3 : Transformation ETL
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 3_PRODUCTION_ZONE (DonnÃ©es relationnelles)                  â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“Š Fichiers CSV (format relationnel) :                                    â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“„ societes.csv                                                            â”‚
â”‚     Colonnes : idsociete | nomsociete | villeSociete | codePostalSociete   â”‚
â”‚                regionSociete | paysSociete                                 â”‚
â”‚     Traitement : DÃ©doublonnage + normalisation (minuscules, sans accents)  â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“„ emplois.csv                                                             â”‚
â”‚     Colonnes : idemploi | libelleEmploi | villeEmploi | codePostalEmploi   â”‚
â”‚                regionEmploi | paysEmploi | descriptifemploi | idsociete    â”‚
â”‚     Traitement : Normalisation des lieux + FK vers societes                â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“„ avis.csv                                                                â”‚
â”‚     Colonnes : idavis | idsociete | titreAvis | descriptionAvis            â”‚
â”‚                avantageAvis | inconvenientAvis | noteMoyenneAvis           â”‚
â”‚     Traitement : 1 ligne par avis + FK vers societes                       â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“„ seed_data.sql                                                           â”‚
â”‚     SchÃ©ma PostgreSQL : CREATE TABLE + procÃ©dures stockÃ©es                 â”‚
â”‚                                                                             â”‚
â”‚  Statut : PrÃªt pour chargement en base de donnÃ©es OU import dans outil BI  â”‚
â”‚                                                                             â”‚
â”‚  ğŸ“Š DASHBOARD BI (Qlik Sense - Dashboard.pdf)                              â”‚
â”‚     Charge directement les 3 CSV et effectue les agrÃ©gations :            â”‚
â”‚     â€¢ Top 10 sociÃ©tÃ©s par nombre d'offres                                  â”‚
â”‚     â€¢ Carte gÃ©ographique (offres par ville + notes moyennes)               â”‚
â”‚     â€¢ Analyse de performance (scatter plot)                                â”‚
â”‚     â€¢ Notes moyennes par sociÃ©tÃ©                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
                       SCRIPTS D'ORCHESTRATION
================================================================================

DVLP/
â”œâ”€ PYTHON/
â”‚  â”‚
â”‚  â”œâ”€ Datalake_Parametrage.py              â† Configuration centralisÃ©e
â”‚  â”‚                                          (Chemins, constantes)
â”‚  â”‚
â”‚  â”œâ”€ Datalake_Phase1_Ingestion.py         â† Phase 1
â”‚  â”‚   Fonction : ingestion_fichiers_html_vers_landing_zone()
â”‚  â”‚   EntrÃ©e   : 0_SOURCE_WEB/*.html
â”‚  â”‚   Sortie   : 1_LANDING_ZONE/**/*.html + metadata_technique.csv
â”‚  â”‚
â”‚  â”œâ”€ Datalake_Phase2_Extraction.py        â† Phase 2
â”‚  â”‚   Fonction : extraction_donnees_descriptives()
â”‚  â”‚   EntrÃ©e   : 1_LANDING_ZONE + metadata_technique.csv
â”‚  â”‚   Sortie   : 2_CURATED_ZONE/metadata_descriptive.csv
â”‚  â”‚
â”‚  â”œâ”€ Datalake_Phase3_Transformation_ETL.py â† Phase 3
â”‚  â”‚   Fonction : transformation_etl_vers_production()
â”‚  â”‚   EntrÃ©e   : 2_CURATED_ZONE/metadata_descriptive.csv
â”‚  â”‚   Sortie   : 3_PRODUCTION_ZONE/*.csv (societes, emplois, avis)
â”‚  â”‚
â”‚  â””â”€ Datalake_Programme_Principal.py      â† Orchestrateur principal
â”‚      Fonction : lancer_pipeline_complet()
â”‚      Usage    : python Datalake_Programme_Principal.py [1|2|3]
â”‚
â””â”€ BATCH/
   â”‚
   â”œâ”€ 00-Lancement_Pipeline_Complet.bat    â† Lance toutes les phases
   â”œâ”€ 01-Phase1_Ingestion.bat              â† Lance Phase 1 uniquement
   â”œâ”€ 02-Phase2_Extraction.bat             â† Lance Phase 2 uniquement
   â””â”€ 03-Phase3_Transformation_ETL.bat     â† Lance Phase 3 uniquement


================================================================================
                            FLUX DE DONNÃ‰ES
================================================================================

HTML (603 fichiers)
    â”‚
    â”‚ [Phase 1] Copie + Tri
    â–¼
LANDING_ZONE (603 fichiers HTML triÃ©s)
    â”‚  + metadata_technique.csv (format vertical)
    â”‚
    â”‚ [Phase 2] Parsing BeautifulSoup
    â–¼
CURATED_ZONE (metadata_descriptive.csv)
    â”‚  Format vertical : cle_unique | colonne | valeur
    â”‚  Contenu : noms, villes, descriptions, avis
    â”‚
    â”‚ [Phase 3] Pivot + Normalisation + DÃ©duplication
    â–¼
PRODUCTION_ZONE (3 CSV relationnels)
    â”‚  â€¢ societes.csv      (N lignes de sociÃ©tÃ©s uniques)
    â”‚  â€¢ emplois.csv       (M lignes d'emplois)
    â”‚  â€¢ avis.csv          (P lignes d'avis)
    â”‚
    â”‚ Import direct dans outil BI (Qlik Sense)
    â”‚ Les agrÃ©gations sont faites en temps rÃ©el
    â–¼
ğŸ“Š DASHBOARD QLIK SENSE (Dashboard.pdf)
    â€¢ Top 10 sociÃ©tÃ©s
    â€¢ Carte gÃ©ographique
    â€¢ Analyse de performance
    â€¢ Notes par sociÃ©tÃ©


================================================================================
                               FIN
================================================================================

